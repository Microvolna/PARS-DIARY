## Получение информации

Полученные при [[6. Парсинг внутреннего API текущего дневника |парсинге внутреннего API текущего дневника]] данные. Записаны в виде JSON (англ. JavaScript Object Notation).

После дисериализации JSON он выглядит как простой python объект, список или словарь, с которым уже можно комфортно работать.

``` Python
# Дисериализуем JSON
a = r.json()
print(a)
```

Для объяснения общих концепций возьму информацию о пользователе.

``` json
{
	"indicators": [
		{
		"name": "Средний балл (Алгебра)",
		"value": "5.00",
		"css": "ico red"
		},
		...
	],
	"children_persons": [
		{
			"person_id": 000000,
			"fullname": "Иванов Иван Иванович 22.11.2008",
			"is_male": true,
			"school": "МБОУ \"СОШ № 9\"",
			"classyear": "10 А",
			"ava_url": "/media/uploads/userprofile/2024/09/17/0b78ecc6db3147a7a2d94f3da9793ddc.png"
		}
	],
	"selected_pupil_id": 000000,
	"selected_pupil_name": "Иванов Иван",
	"selected_pupil_ava_url": "/media/uploads/userprofile/2024/09/17/0b78ecc6db3147a7a2d94f3da9793ddc.png",
	"selected_pupil_school": "",
	"selected_pupil_is_male": true,
	"selected_pupil_classyear": "",
	"user_ava_url": "/static/../../../../../static/profiles/img/noavatar_big.png",
	"user_has_ava": false,
	"user_fullname": "Иван Иван Иванович",
	"user_desc": "",
	"user_is_male": true,
	"phone": "+7 (000) 000-00-00",
	"phone_sms": "",
	"auth_user_profile_id": 000000
}
```

Например, для получения имен всех детей мы можем просто сделать так:

``` Python
for i in a['children_persons']:
    print(i['fullname'])

>>> Иванов Иван Иванович 22.11.2008
```

## Представление информации

Но вопрос в чем предоставлять информацию до сих пор остается открытым: в виде изображений или в виде текста, для выбора предлагаю составить таблицу:

| Парметр                   | Текст                                                                                                                                                                                  | Изображение                                                                           |
| ------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------- |
| Кроссплатформенность      | -, на маленьких экранах мобильных устройств текст может отображаться некорректно.                                                                                                      | +, изображение будет одинаковым везде.                                                |
| Простота (создания)       | +                                                                                                                                                                                      | -, для выдачи информации в виде изображений придется писать больше кода (она сложнее) |
| "Возможности"             | -, использование символов, в том числе acsii-арт, markdown разметка (поддерживается не во всех мессенджерах, например в вк ее нет), опять же тут мы ограниччены кроссплатформенностью( | +, все что угодно, начиная от разных шрифтов, таблиц и заканчивая картинками.         |
| Нагрузка на сеть и память | +, текст гораздо менее ёмкий, нежели изображения.                                                                                                                                      | -                                                                                     |
| Итого:                    | 2                                                                                                                                                                                      | 2                                                                                     |

Тяжело. Однако, решающим критерием именно для меня является простота создания, поэтому я вынесу на первый план текст. И возможно в будущих версиях добавлю выдачу в виде изображений, в качестве эксперементальной функции. Каждый пользователь может сам решить в каком виде смотреть данные.

Также будет проведен тест, по опыту использования дневника, в ходе которого будет выбрана и добавлена одна из эксперементальных функций.