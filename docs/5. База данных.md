## 5.1 Выбор технологии для базы данных

Можно было реализовать базу данных как это чаще всего делается в крупных проектах, например, через **sqlite3**. Но в моем проекте она реализована в обычном **JSON** файле по следующим причинам:

- **Наглядность**
	Гораздо проще открыть файл в IDE и просмотреть какую-либо информацию о пользователе.

- **Больше опыта работы**
- **Быстрее**

## 5.2 Какую обертку для json базы данных необходимо создать?

- **Запись данных в json базу данных**

	- id пользователя в телеграмме
		Единственный способ идентификации пользователя в боте
	
	- cookie
		Для авторизации в учетной записи дневника
	
	- Время присоединения к проекту
		Для аналитики
		
	- Источник, откуда пришел пользователь
		Например, у пользователя, который перешел по ссылке ниже этот параметр будет "from_url", его просто настроить, нужно добавить к ссылке на бота (https://t.me/diari_tipo_bot) параметр "start=реферальная информация", чтобы получилось:
		
			### https://t.me/diari_tipo_bot?start=from_qr

- Удаление параметра cookie из базы данных
	Нужен на всякий случай, например если пользователь закроет сессию в своем браузере (выйдет из аккаунта дневника), к счастью пока подобных проблем обнаружено не было, поэтому функция нужна скорее для непонятных случаев, когда пользователь изначально указал неправильные cookie.

- Ну и соответственно функция для получения cookie по id пользователя
	Думаю здесь комментарии излишни.

- Также нам необходимы некоторые функции для аналитики, доступной администратору в боте через команду **/admin**

	- Расстановка источников прихода аудитории в порядке убывания пришедшей аудитории
	- Подсчет общего количества пользователей
	- Создание графика на основе данных о входе пользователя в бот

![Реализация из предыдущего проекта][admin.png]
Реализация из предыдущего проекта.